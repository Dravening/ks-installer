apiVersion: logging.d3os.io/v1alpha2
kind: Filter
metadata:
  labels:
    logging.d3os.io/enabled: 'true'
    logging.d3os.io/component: "auditing"
  name: filter-auditing
  namespace: d3os-logging-system
spec:
  filters:
    - parser:
        keyName: log
        parser: json
    - modify:
        conditions:
          - keyDoesNotExist:
              AuditID: ''
        rules:
          - add:
              ignore: 'true'
    - modify:
        rules:
          - remove: Trace
    - grep:
        exclude: ignore true
  match: kube_auditing

